FILE(GLOB SRC *.cpp *.h)

ADD_LIBRARY(nel_mesh_lib STATIC ${SRC})

INCLUDE_DIRECTORIES(${MAXSDK_INCLUDE_DIR} ${MAXSDK_CS_INCLUDE_DIR})
TARGET_LINK_LIBRARIES(nel_mesh_lib nelmisc)
NL_DEFAULT_PROPS(nel_mesh_lib "MAX Plugin: NeL Mesh Library")
NL_ADD_RUNTIME_FLAGS(nel_mesh_lib)
NL_ADD_LIB_SUFFIX(nel_mesh_lib)

IF(WITH_PCH)
  ADD_NATIVE_PRECOMPILED_HEADER(nel_mesh_lib ${CMAKE_CURRENT_SOURCE_DIR}/StdAfx.h ${CMAKE_CURRENT_SOURCE_DIR}/StdAfx.cpp)
ENDIF(WITH_PCH)

INSTALL(TARGETS nel_mesh_lib RUNTIME DESTINATION maxplugin/plugins LIBRARY DESTINATION lib ARCHIVE DESTINATION lib COMPONENT libraries)
